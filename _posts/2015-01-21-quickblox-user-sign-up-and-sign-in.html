---
layout: post
title: QuickBlox user sign up and sign in
date: '2015-01-21T16:22:00.005-08:00'
author: Yicheng Zhang
tags:
- Session
- QuickBlox
- Android
modified_time: '2015-01-21T19:04:02.075-08:00'
blogger_id: tag:blogger.com,1999:blog-4168525616395635351.post-7930251385256059980
blogger_orig_url: http://blog.zyceeit.com/2015/01/quickblox-user-sign-up-and-sign-in.html
---

<span style="font-family: Arial, Helvetica, sans-serif;">I was trying <a href="http://quickblox.com/"><span style="color: #ea9999;">QuickBlox</span></a> these days and I just found there seemed to be two ways to sign into the QuickBlox server and one of them turned out doesn't work.&nbsp;</span>  <br /><span style="font-family: Arial, Helvetica, sans-serif;">This the one that works:</span><br /><pre class="brush: java"> final QBUser user = new QBUser(username, password);<br /><br />    QBAuth.createSession(user,<br />      new QBEntityCallbackImpl&lt;QBSession&gt;() {<br />       @Override<br />       public void onSuccess(QBSession session, Bundle args) {<br /><br />        user.setId(session.getUserId());<br /><br />        loginToChat(user);<br /><br />       }<br /><br />       @Override<br />       public void onError(List&lt;String&gt; errors) {<br /><br />       }<br /> });<br /></pre><br /><br /><span style="font-family: Arial, Helvetica, sans-serif;">This is the one that doesn't:</span><br /><pre class="brush: java"> QBAuth.createSession(new QBEntityCallbackImpl&lt;QBSession&gt;() {<br />      @Override<br />      public void onSuccess(QBSession session, Bundle args) {<br /><br />       final QBUser user = new QBUser(username, password);<br /><br />       QBUsers.signIn(user, new QBEntityCallbackImpl&lt;QBUser&gt;() {<br />          @Override<br />          public void onSuccess(QBUser user,<br />            Bundle args) {<br /><br />          loginToChat(user);<br /><br />          }<br /><br />          @Override<br />          public void onError(List&lt;String&gt; errors) {<br />          <br />          }<br /><br />        });<br />      }<br /><br />      @Override<br />      public void onError(List&lt;String&gt; errors) {<br />       <br />      }<br />  });<br /><br /></pre><span style="font-family: Arial, Helvetica, sans-serif;">The one that doesn't work uses the following method:</span><br /><pre class="brush: java">QBUsers.signIn(User user, Callback callback)<br /></pre><span style="font-family: Arial, Helvetica, sans-serif;">But this method doesn't seem to work at all. The actual procedure of signing in is as follows.&nbsp;</span><span style="font-family: Arial, Helvetica, sans-serif;">First you create a session in order to open up the connection with the XMPP server. Then you have to sign in a registered user into the connection with XMPP which called the transfer from application session to user session. After being transferred to the user session, you will be able to get the access to the user backend and implement all kinds of functions. So the signing in is the most important. &nbsp;</span><br /><span style="font-family: Arial, Helvetica, sans-serif;">The other way of signing in is to directly create the user session along with application session using the method that creates the applications session:</span><br /><pre class="brush: java">QBAuth.createSession(User user, Callback callback)</pre><span style="font-family: Arial, Helvetica, sans-serif;">It can take in either one parameter of two, if it takes two, the first parameter will be signing in user object and if it takes one, there will be no user object taken in. We no longer need QBUsers.signIn() method because we will sign in to the user session if the QBAuth.createSession() method takes in the user object parameter.&nbsp;</span><br /><span style="font-family: Arial, Helvetica, sans-serif;">As for the signing up, which is used for creating new user in backend, there is no problem. There is a method similar to QBUsers.signIn() called QBUsers.signUp() and can be used intuitively:</span><br /><pre class="brush: java"> QBAuth.createSession(new QBEntityCallbackImpl&lt;QBSession&gt;() {<br />      @Override<br />      public void onSuccess(QBSession session, Bundle args) {<br /><br />       final QBUser user = new QBUser(newUsername, newUserPassword);<br /><br />       user.setEmail(email);<br /><br />       QBUsers.signUp(user, new QBEntityCallbackImpl&lt;QBUser&gt;() {<br />          @Override<br />          public void onSuccess(QBUser user,<br />            Bundle args) {<br />         <br />          }<br /><br />          @Override<br />          public void onError(List&lt;String&gt; errors) {<br />           <br />          }<br /><br />        });<br />      }<br /><br />      @Override<br />      public void onError(List&lt;String&gt; errors) {<br />      <br />      }<br /> });<br /></pre><span style="font-family: Arial, Helvetica, sans-serif;">The conclusion is, if you want to sign in as registered user or sign up as new user, you definitely have to create the session and it will let the backend know which user is currently as active as on the client side. Signing up is intuitive but signing in right now is not. If we can use QBUsers.signIn() method it will be more intuitive.&nbsp;</span><br /><span style="font-family: Arial, Helvetica, sans-serif;">By the way, whenever you insert the code inside the html, remember to change the &lt; with &amp;lt; and &gt; with &amp;gt;.&nbsp;</span>